<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AM AI — Multilingual AI Hub</title>
  <meta name="description" content="AM AI — Integrated multilingual AI chat, animated gallery and easy theme customization." />
  <style>
    :root{
      --bg:#0f1724; /* dark navy */
      --card:#0b1220;
      --accent:#06b6d4; /* cyan */
      --accent-2:#7c3aed; /* purple */
      --muted:#9ca3af;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      --maxw:1100px;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,var(--bg),#081023);color:#e6eef8;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}

    .wrap{width:100%;max-width:var(--maxw)}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .logo{display:flex;align-items:center;gap:12px}
    .logo svg{width:54px;height:54px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));padding:8px}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted)}

    .layout{display:grid;grid-template-columns:1fr 420px;gap:18px}
    @media (max-width:980px){.layout{grid-template-columns:1fr}}

    /* left main */
    .card{background:var(--card);padding:20px;border-radius:var(--radius);box-shadow:0 6px 30px rgba(2,6,23,0.6)}

    .controls{display:flex;gap:10px;align-items:center;margin-bottom:12px}
    select,button{background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:8px 12px;border-radius:10px}
    button.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#041025;font-weight:600}

    /* chat area */
    .chat{height:520px;overflow:auto;padding:16px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03)}
    .msg{display:flex;gap:12px;margin-bottom:12px}
    .msg.user{justify-content:flex-end}
    .bubble{max-width:78%;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,0.03);line-height:1.35}
    .msg.user .bubble{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#00121a}

    .composer{display:flex;gap:10px;margin-top:12px}
    .composer textarea{flex:1;min-height:60px;padding:10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit}

    /* right column */
    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .tile{height:120px;border-radius:12px;overflow:hidden;position:relative;background:#061026;border:1px solid rgba(255,255,255,0.03)}

    .tile img{width:100%;height:100%;object-fit:cover;display:block;transform-origin:center;transition:transform 6s ease}
    .tile:hover img{transform:scale(1.08) rotate(-1.5deg)}

    /* animated icons */
    .anim{display:flex;gap:10px;margin-top:12px}
    .dot{width:12px;height:12px;border-radius:50%;background:var(--accent);box-shadow:0 0 16px var(--accent)}
    .pulse{animation:pulse 2.2s infinite}
    @keyframes pulse{0%{transform:scale(0.9);opacity:.7}50%{transform:scale(1.25);opacity:1}100%{transform:scale(0.9);opacity:.7}}

    footer.small{margin-top:14px;color:var(--muted);font-size:13px;text-align:center}

    /* simple scrollbar */
    .chat::-webkit-scrollbar{width:8px}
    .chat::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.04);border-radius:99px}

    /* language direction support */
    .rtl{direction:rtl;text-align:right}

    /* small helper */
    .muted{color:var(--muted);font-size:13px}

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
        <!-- simple SVG logo — replace with your logo file -->
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect width="100" height="100" rx="20" fill="white" opacity="0.06"/>
          <g transform="translate(18,18)">
            <circle cx="16" cy="16" r="16" fill="#06b6d4" />
            <path d="M38 6c6 0 12 4 12 10s-6 10-12 10-12-4-12-10 6-10 12-10z" fill="#7c3aed" opacity="0.95"/>
          </g>
        </svg>
        <div>
          <h1>AM AI</h1>
          <p class="lead">Multilingual AI chat • Instant translations • Animated gallery</p>
        </div>
      </div>
    </header>

    <div class="layout">
      <!-- MAIN (left) -->
      <div>
        <div class="card">
          <div class="controls">
            <label class="muted" for="lang">Language:</label>
            <select id="lang">
              <option value="en">English</option>
              <option value="ar">العربية</option>
              <option value="fr">Français</option>
              <option value="es">Español</option>
              <option value="darija">الدارجة (Darija)</option>
            </select>

            <label class="muted">Theme:</label>
            <button id="theme-default">Default</button>
            <button id="theme-light">Warm</button>

            <div style="margin-left:auto;display:flex;align-items:center;gap:10px">
              <div class="anim"><div class="dot pulse"></div></div>
              <button class="primary" id="clear">Clear</button>
            </div>
          </div>

          <div id="chat" class="chat" role="log" aria-live="polite"></div>

          <div class="composer">
            <textarea id="input" placeholder="Write a message..."></textarea>
            <div style="display:flex;flex-direction:column;gap:8px">
              <button id="send" class="primary">Send</button>
              <button id="example">Example</button>
            </div>
          </div>
          <div class="small muted">Chat frontend ready — backend endpoint: <code>/api/chat</code> (POST, JSON: {message, lang}).</div>
        </div>

        <div style="height:18px"></div>

        <div class="card">
          <h3 id="features-title">AI Features</h3>
          <ul id="features-list">
            <li>Instant translation and rewriting</li>
            <li>Multilingual chat</li>
            <li>Animated image gallery</li>
            <li>Easy theme & color switches</li>
          </ul>
        </div>
      </div>

      <!-- RIGHT (gallery + info) -->
      <aside>
        <div class="card">
          <h3>Gallery</h3>
          <div class="gallery" id="gallery">
            <div class="tile"><img src="https://images.unsplash.com/photo-1503264116251-35a269479413?w=800&q=60" alt="gallery1"></div>
            <div class="tile"><img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?w=800&q=60" alt="gallery2"></div>
            <div class="tile"><img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=800&q=60" alt="gallery3"></div>
            <div class="tile"><img src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?w=800&q=60" alt="gallery4"></div>
          </div>

          <div style="height:12px"></div>
          <div class="muted">Hover images to see subtle motion. Replace images by changing the <code>src</code> in HTML.</div>
        </div>

        <div style="height:12px"></div>

        <div class="card">
          <h3>Quick Settings</h3>
          <p class="muted">Logo: replace the SVG in the header. Backend: see notes below.</p>
          <p class="muted">Supported languages can be edited in the <code>translations</code> object inside the script.</p>
        </div>
      </aside>
    </div>

    <footer class="small">AM AI © 2025 — Built for multilingual interactions</footer>
  </div>

  <script>
    // --- Translations for UI strings (expandable) ---
    const translations = {
      en: {send:'Send', example:'Example', placeholder:'Write a message...', features:['Instant translation and rewriting','Multilingual chat','Animated image gallery','Easy theme & color switches']},
      ar: {send:'إرسال', example:'مثال', placeholder:'اكتب رسالة...', features:['ترجمة فورية وإعادة صياغة','دردشة متعددة اللغات','معرض صور متحركة','تبديل الألوان بسهولة']},
      fr: {send:'Envoyer', example:'Exemple', placeholder:'Écrire un message...', features:['Traduction instantanée','Chat multilingue','Galerie animée','Thèmes personnalisables']},
      es: {send:'Enviar', example:'Ejemplo', placeholder:'Escribe un mensaje...', features:['Traducción instantánea','Chat multilingüe','Galería animada','Temas personalizables']},
      darija: {send:'SIFT', example:'مثال', placeholder:'KTB MESSAGE', features:['TARJAMA','CHAT B DARJA','GALERIE MOVING','THEME CHANGE']}
    }

    // --- DOM refs ---
    const chatEl = document.getElementById('chat');
    const langEl = document.getElementById('lang');
    const inputEl = document.getElementById('input');
    const sendBtn = document.getElementById('send');
    const exampleBtn = document.getElementById('example');
    const clearBtn = document.getElementById('clear');
    const featuresList = document.getElementById('features-list');
    const featuresTitle = document.getElementById('features-title');

    // --- helpers ---
    function setLanguageUI(lang){
      const t = translations[lang] || translations.en;
      sendBtn.textContent = t.send;
      exampleBtn.textContent = t.example;
      inputEl.placeholder = t.placeholder;
      // update features
      featuresList.innerHTML = '';
      t.features.forEach(f=>{const li=document.createElement('li');li.textContent=f;featuresList.appendChild(li)});
      // RTL for arabic
      if(lang==='ar') document.querySelector('body').classList.add('rtl'); else document.querySelector('body').classList.remove('rtl');
    }

    // initial UI
    setLanguageUI('en');

    langEl.addEventListener('change',()=>setLanguageUI(langEl.value));

    // simple message render
    function renderMessage(text,who='bot'){
      const m = document.createElement('div');m.className = 'msg ' + (who==='user'?'user':'bot');
      const b = document.createElement('div');b.className='bubble';b.innerHTML = text;
      m.appendChild(b);chatEl.appendChild(m);chatEl.scrollTop = chatEl.scrollHeight;
    }

    // send message to backend
    async function sendToBackend(text,lang){
      // expected backend API: POST /api/chat with JSON {message, lang}
      // response: {reply: '...'}
      try{
        const res = await fetch('/api/chat',{
          method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:text,lang})
        });
        if(!res.ok) throw new Error('no-backend');
        const data = await res.json();
        return data.reply || 'No reply.';
      }catch(err){
        // fallback: simple local echo + translation hint
        return "(Local fallback) I received: " + text + " — connect a real backend at /api/chat to enable real AI replies.";
      }
    }

    sendBtn.addEventListener('click',async()=>{
      const text = inputEl.value.trim(); if(!text) return;
      const lang = langEl.value;
      renderMessage(text,'user');
      inputEl.value='';
      renderMessage('⏳ Thinking...','bot');
      // send
      const reply = await sendToBackend(text,lang);
      // remove the thinking bubble (last bot)
      const last = chatEl.querySelectorAll('.msg');
      if(last.length>0){const lb = last[last.length-1]; if(lb.querySelector('.bubble').textContent.includes('Thinking')) lb.remove();}
      renderMessage(reply,'bot');
    });

    exampleBtn.addEventListener('click',()=>{
      const examples = {
        en:'Hello, can you translate this to French and summarize?',
        ar:'سلام، واش تقدر تترجم هاد الجملة للإنجليزية؟',
        fr:'Salut, peux-tu réécrire ce texte en style formel?',
        es:'Hola, traduce esto al inglés por favor',
        darija:'Sme3, 3tini traduction b darija'
      };
      inputEl.value = examples[langEl.value] || examples.en; inputEl.focus();
    });

    clearBtn.addEventListener('click',()=>{chatEl.innerHTML=''});

    // theme buttons
    document.getElementById('theme-default').addEventListener('click',()=>{
      document.documentElement.style.setProperty('--accent','#06b6d4');document.documentElement.style.setProperty('--accent-2','#7c3aed');
    });
    document.getElementById('theme-light').addEventListener('click',()=>{
      document.documentElement.style.setProperty('--accent','#ffb86b');document.documentElement.style.setProperty('--accent-2','#ff7ab6');
    });

    // Accessibility: send message on ctrl+enter
    inputEl.addEventListener('keydown', (e)=>{ if((e.ctrlKey||e.metaKey)&&e.key==='Enter'){ sendBtn.click(); } });

    // --- Notes for deployers (in-code) ---
    // To enable real AI: implement POST /api/chat that accepts {message, lang}
    // and returns JSON {reply: string} after calling your chosen AI provider.
    // Example server steps:
    // 1) receive input, 2) optionally detect/translate language, 3) call OpenAI/other models, 4) return reply.

  </script>
</body>
</html>
